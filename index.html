<!DOCTYPE html>

<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reflektionskort</title>
    <style>
        :root {
            --ios-blue: #007AFF;
            --ios-green: #34C759;
            --ios-orange: #FF9500;
            --ios-pink: #FF2D55;
            --ios-purple: #AF52DE;
            --ios-teal: #5AC8FA;
            --ios-yellow: #FFCC00;
            --ios-red: #FF3B30;

```
        --bg-primary: #F2F2F7;
        --bg-secondary: #FFFFFF;
        --text-primary: #000000;
        --text-secondary: #8E8E93;
        --separator: rgba(60, 60, 67, 0.29);
        
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
    }
    
    @media (prefers-color-scheme: dark) {
        :root {
            --bg-primary: #000000;
            --bg-secondary: #1C1C1E;
            --text-primary: #FFFFFF;
            --text-secondary: #8E8E93;
            --separator: rgba(84, 84, 88, 0.65);
        }
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
    }
    
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif;
        background: var(--bg-primary);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    .app-container {
        max-width: 428px;
        margin: 0 auto;
        min-height: 100vh;
        position: relative;
        padding-bottom: 100px;
    }
    
    /* Header */
    .header {
        padding: 60px 20px 20px;
        text-align: center;
        background: linear-gradient(180deg, var(--bg-primary) 0%, transparent 100%);
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        position: relative;
    }
    
    .back-button {
        position: absolute;
        left: 20px;
        top: 60px;
        width: 32px;
        height: 32px;
        border-radius: 16px;
        background: var(--bg-secondary);
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-sm);
        transition: all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
        color: var(--ios-blue);
        z-index: 999;
        pointer-events: auto;
    }
    
    .back-button:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-md);
    }
    
    .back-button:active {
        transform: scale(0.95);
    }
    
    .back-button svg {
        width: 20px;
        height: 20px;
    }
    
    .header h1 {
        font-size: 34px;
        font-weight: 700;
        letter-spacing: -0.5px;
        margin-bottom: 8px;
    }
    
    .header p {
        font-size: 17px;
        color: var(--text-secondary);
        font-weight: 400;
    }
    
    /* Start Screen */
    .start-screen {
        position: fixed;
        inset: 0;
        background: var(--bg-primary);
        z-index: 400;
        display: flex;
        flex-direction: column;
        padding: 40px 20px;
        overflow-y: auto;
        animation: fadeIn 0.5s ease-out;
    }
    
    .start-screen.hide {
        display: none;
    }
    
    .start-header {
        text-align: center;
        margin-bottom: 40px;
    }
    
    .start-header h1 {
        font-size: 40px;
        font-weight: 800;
        letter-spacing: -1px;
        margin-bottom: 12px;
    }
    
    .start-header p {
        font-size: 17px;
        color: var(--text-secondary);
    }
    
    .category-grid {
        display: grid;
        gap: 12px;
        max-width: 428px;
        margin: 0 auto;
        width: 100%;
    }
    
    .category-card {
        background: var(--bg-secondary);
        border-radius: 16px;
        padding: 20px;
        box-shadow: var(--shadow-sm);
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
        border: 2px solid transparent;
        display: flex;
        align-items: center;
        gap: 16px;
    }
    
    .category-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }
    
    .category-card:active {
        transform: scale(0.98);
    }
    
    .category-icon {
        width: 56px;
        height: 56px;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        flex-shrink: 0;
    }
    
    .category-info {
        flex: 1;
    }
    
    .category-name {
        font-size: 17px;
        font-weight: 600;
        margin-bottom: 4px;
    }
    
    .category-count {
        font-size: 13px;
        color: var(--text-secondary);
        font-weight: 500;
    }
    
    .category-card.blandat {
        background: linear-gradient(135deg, var(--ios-blue) 0%, var(--ios-purple) 100%);
        color: white;
        padding: 24px 20px;
    }
    
    .category-card.blandat .category-name {
        color: white;
    }
    
    .category-card.blandat .category-count {
        color: rgba(255, 255, 255, 0.8);
    }
    
    .category-card.blandat .category-icon {
        background: rgba(255, 255, 255, 0.2);
    }
    
    /* Progress */
    .progress-container {
        padding: 0 20px 20px;
    }
    
    .progress-bar {
        height: 4px;
        background: var(--separator);
        border-radius: 2px;
        overflow: hidden;
        position: relative;
    }
    
    .progress-fill {
        height: 100%;
        background: var(--ios-blue);
        border-radius: 2px;
        transition: width 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    
    .progress-text {
        text-align: center;
        margin-top: 8px;
        font-size: 13px;
        font-weight: 600;
        color: var(--text-secondary);
    }
    
    /* Card Stack */
    .card-stack {
        position: relative;
        padding: 0 20px;
        min-height: 400px;
    }
    
    .card {
        position: absolute;
        left: 20px;
        right: 20px;
        background: var(--bg-secondary);
        border-radius: 20px;
        padding: 40px 28px;
        box-shadow: var(--shadow-lg);
        transition: all 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
        cursor: grab;
        user-select: none;
        touch-action: none;
    }
    
    .card:active {
        cursor: grabbing;
    }
    
    .card.dragging {
        transition: none;
    }
    
    .card.exiting-left {
        transform: translateX(-500px) rotate(-30deg);
        opacity: 0;
    }
    
    .card.exiting-right {
        transform: translateX(500px) rotate(30deg);
        opacity: 0;
    }
    
    .card-category {
        display: inline-block;
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        padding: 6px 12px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .card-question {
        font-size: 28px;
        font-weight: 600;
        line-height: 1.3;
        letter-spacing: -0.5px;
        text-align: center;
        min-height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Category Colors */
    .cat-oro { background: rgba(255, 45, 85, 0.15); color: var(--ios-pink); }
    .cat-k√§nslor { background: rgba(255, 149, 0, 0.15); color: var(--ios-orange); }
    .cat-humor { background: rgba(255, 204, 0, 0.15); color: var(--ios-yellow); }
    .cat-v√§nskap { background: rgba(52, 199, 89, 0.15); color: var(--ios-green); }
    .cat-skola { background: rgba(0, 122, 255, 0.15); color: var(--ios-blue); }
    .cat-v√§rderingar { background: rgba(175, 82, 222, 0.15); color: var(--ios-purple); }
    .cat-framtid { background: rgba(90, 200, 250, 0.15); color: var(--ios-teal); }
    .cat-familj { background: rgba(255, 45, 85, 0.15); color: var(--ios-pink); }
    .cat-sj√§lv { background: rgba(175, 82, 222, 0.15); color: var(--ios-purple); }
    .cat-√∂ppet { background: rgba(52, 199, 89, 0.15); color: var(--ios-green); }
    .cat-√∂ppna-upp { background: rgba(255, 59, 48, 0.15); color: var(--ios-red); }
    
    /* Action Buttons */
    .actions {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(0deg, var(--bg-primary) 80%, transparent 100%);
        display: flex;
        justify-content: center;
        gap: 16px;
        z-index: 200;
        max-width: 428px;
        margin: 0 auto;
    }
    
    .action-btn {
        width: 64px;
        height: 64px;
        border-radius: 32px;
        border: none;
        background: var(--bg-secondary);
        box-shadow: var(--shadow-md);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
        position: relative;
    }
    
    .action-btn:hover {
        transform: scale(1.05);
    }
    
    .action-btn:active {
        transform: scale(0.95);
    }
    
    .action-btn.skip {
        background: var(--ios-red);
    }
    
    .action-btn.answer {
        background: var(--ios-green);
        width: 72px;
        height: 72px;
        border-radius: 36px;
    }
    
    .action-btn svg {
        width: 28px;
        height: 28px;
        color: white;
    }
    
    /* Swipe Indicators */
    .swipe-indicator {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 17px;
        font-weight: 600;
        padding: 12px 20px;
        border-radius: 12px;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
    }
    
    .swipe-indicator.left {
        left: 20px;
        background: rgba(255, 59, 48, 0.9);
        color: white;
    }
    
    .swipe-indicator.right {
        right: 20px;
        background: rgba(52, 199, 89, 0.9);
        color: white;
    }
    
    .card.dragging .swipe-indicator {
        opacity: 1;
    }
    
    /* Complete Screen */
    .complete-screen {
        display: none;
        position: fixed;
        inset: 0;
        background: var(--bg-primary);
        z-index: 300;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px;
        text-align: center;
        animation: fadeIn 0.5s ease-out;
    }
    
    .complete-screen.show {
        display: flex;
    }
    
    .complete-icon {
        width: 100px;
        height: 100px;
        background: var(--ios-green);
        border-radius: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 24px;
        animation: scaleIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .complete-icon svg {
        width: 56px;
        height: 56px;
        color: white;
    }
    
    .complete-screen h2 {
        font-size: 34px;
        font-weight: 700;
        margin-bottom: 12px;
        letter-spacing: -0.5px;
    }
    
    .complete-screen p {
        font-size: 17px;
        color: var(--text-secondary);
        margin-bottom: 32px;
        max-width: 300px;
    }
    
    .stats {
        display: flex;
        gap: 16px;
        margin-bottom: 32px;
    }
    
    .stat {
        background: var(--bg-secondary);
        padding: 20px 28px;
        border-radius: 16px;
        box-shadow: var(--shadow-sm);
    }
    
    .stat-number {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 4px;
    }
    
    .stat-label {
        font-size: 13px;
        color: var(--text-secondary);
        font-weight: 500;
    }
    
    .restart-btn {
        background: var(--ios-blue);
        color: white;
        border: none;
        padding: 16px 32px;
        border-radius: 14px;
        font-size: 17px;
        font-weight: 600;
        cursor: pointer;
        box-shadow: var(--shadow-md);
        transition: all 0.2s;
    }
    
    .restart-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }
    
    .restart-btn:active {
        transform: translateY(0);
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes scaleIn {
        from { transform: scale(0); }
        to { transform: scale(1); }
    }
</style>
```

</head>
<body>
    <div class="start-screen" id="startScreen">
        <div class="start-header">
            <h1>Reflektionskort</h1>
            <p>V√§lj en kategori att utforska</p>
        </div>

```
    <div class="category-grid">
        <div class="category-card blandat" data-category="all">
            <div class="category-icon">üé≤</div>
            <div class="category-info">
                <div class="category-name">Blandat</div>
                <div class="category-count">Alla 165 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="oro">
            <div class="category-icon cat-oro">üåü</div>
            <div class="category-info">
                <div class="category-name">Oro & Sj√§lvk√§nsla</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="k√§nslor">
            <div class="category-icon cat-k√§nslor">‚ù§Ô∏è</div>
            <div class="category-info">
                <div class="category-name">K√§nslor</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="humor">
            <div class="category-icon cat-humor">üòÑ</div>
            <div class="category-info">
                <div class="category-name">Humor & Pinsamt</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="v√§nskap">
            <div class="category-icon cat-v√§nskap">üë•</div>
            <div class="category-info">
                <div class="category-name">V√§nskap & Relationer</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="skola">
            <div class="category-icon cat-skola">üìö</div>
            <div class="category-info">
                <div class="category-name">Skola & Prestationer</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="v√§rderingar">
            <div class="category-icon cat-v√§rderingar">üíé</div>
            <div class="category-info">
                <div class="category-name">V√§rderingar & Moral</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="framtid">
            <div class="category-icon cat-framtid">üöÄ</div>
            <div class="category-info">
                <div class="category-name">Framtid & Dr√∂mmar</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="familj">
            <div class="category-icon cat-familj">üè°</div>
            <div class="category-info">
                <div class="category-name">Familj & Hem</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="sj√§lv">
            <div class="category-icon cat-sj√§lv">üå±</div>
            <div class="category-info">
                <div class="category-name">Sj√§lv & Tillv√§xt</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="√∂ppet">
            <div class="category-icon cat-√∂ppet">üí≠</div>
            <div class="category-info">
                <div class="category-name">√ñppna Fr√•gor</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
        
        <div class="category-card" data-category="√∂ppna-upp">
            <div class="category-icon cat-√∂ppna-upp">üí¨</div>
            <div class="category-info">
                <div class="category-name">√ñppna upp</div>
                <div class="category-count">15 fr√•gor</div>
            </div>
        </div>
    </div>
</div>

<div class="app-container" id="appContainer" style="display: none;">
    <div class="header">
        <button class="back-button" id="backButton" aria-label="Tillbaka till meny" type="button">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
        </button>
        <h1>Reflektionskort</h1>
        <p>Svep f√∂r att svara eller hoppa √∂ver</p>
    </div>
    
    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">0 av 150</div>
    </div>
    
    <div class="card-stack" id="cardStack">
        <!-- Cards will be generated here -->
    </div>
    
    <div class="actions">
        <button class="action-btn skip" id="skipBtn" aria-label="Hoppa √∂ver">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>
        <button class="action-btn answer" id="answerBtn" aria-label="Besvara">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
            </svg>
        </button>
    </div>
</div>

<div class="complete-screen" id="completeScreen">
    <div class="complete-icon">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
        </svg>
    </div>
    <h2>Fantastiskt jobbat!</h2>
    <p>Du har g√•tt igenom alla reflektionskort</p>
    <div class="stats">
        <div class="stat">
            <div class="stat-number" id="answeredCount">0</div>
            <div class="stat-label">Besvarade</div>
        </div>
        <div class="stat">
            <div class="stat-number" id="skippedCount">0</div>
            <div class="stat-label">√ñverhoppade</div>
        </div>
    </div>
    <button class="restart-btn" id="restartBtn">V√§lj ny kategori</button>
</div>

<script>
    const questions = [
        // Oro & Sj√§lvk√§nsla
        { q: "Vad oroar du dig mest f√∂r just nu?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √§r n√•got du tror att vuxna inte f√∂rst√•r med att vara i din √•lder?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "N√§r k√§nner du dig som mest sj√§lvs√§ker?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "N√§r k√§nner du dig som mest os√§ker?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √§r n√•got du √§r stolt √∂ver men s√§llan s√§ger h√∂gt?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √∂nskar du att du var b√§ttre p√•?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad f√•r dig att k√§nna dig lugn?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad stressar dig oftast?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad g√∂r du n√§r du k√§nner dig √∂verv√§ldigad?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √§r n√•got du nyligen har √§ndrat √•sikt om?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad betyder 'att lyckas' f√∂r dig just nu?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Hur tror du att du kommer vara n√§r du √§r 25?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √∂nskar du att andra lade m√§rke till hos dig?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "N√§r k√§nner du dig mest som dig sj√§lv?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        { q: "Vad √§r n√•got du l√•tsas inte st√∂r dig ‚Äì men som faktiskt g√∂r det?", cat: "oro", catName: "Oro & Sj√§lvk√§nsla" },
        
        // K√§nslor
        { q: "Vad brukar s√§tta dig p√• gott hum√∂r?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad √§r det snabbaste s√§ttet att f√∂rst√∂ra ditt hum√∂r?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad g√∂r du n√§r du √§r arg?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad f√•r dig att m√• b√§ttre n√§r du √§r sjuk eller ledsen?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vilken k√§nsla k√§nner du oftast?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vilken k√§nsla f√∂rs√∂ker du undvika mest?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "N√§r skrattade du riktigt h√•rt senast?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "N√§r k√§nde du dig senast besviken?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad hj√§lper dig att k√§nna dig f√∂rst√•dd?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad f√•r dig att st√§nga av?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vem k√§nner du dig tryggast att prata med?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad √∂nskar du att du kunde s√§ga utan att bli d√∂md?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad f√•r dig att k√§nna dig ensam?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad f√•r dig att k√§nna dig uppskattad?", cat: "k√§nslor", catName: "K√§nslor" },
        { q: "Vad skr√§mmer dig med framtiden, om n√•got?", cat: "k√§nslor", catName: "K√§nslor" },
        
        // Humor & Pinsamt
        { q: "Vad √§r det dummaste du n√•gonsin skrattat √•t?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vad √§r ditt mest pinsamma √∂gonblick i skolan?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken konstig vana har du?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken √§r din mest v√§rdel√∂sa talang?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Om ditt liv var en film, vilken genre skulle det vara?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken l√•t gillar du i hemlighet?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken √§r den v√§rsta frisyren du haft?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vad irriterar dig direkt?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken mat skulle du kunna √§ta varje dag?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken mat hatar du?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vad √§r det roligaste som h√§nt i √•r?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vilken √§r den s√§msta filmen du sett?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vad tar vuxna p√• alldeles f√∂r stort allvar?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Vad √∂verreagerar folk i din √•lder p√•?", cat: "humor", catName: "Humor & Pinsamt" },
        { q: "Om du hade en varningsetikett, vad skulle det st√•?", cat: "humor", catName: "Humor & Pinsamt" },
        
        // V√§nskap & Relationer
        { q: "Vad g√∂r n√•gon till en bra v√§n?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad g√∂r n√•gon jobbig att vara med?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vem f√•r dig att skratta mest?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad v√§rdes√§tter du mest hos dina v√§nner?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad st√∂r du dig p√• hos folk i din √•lder?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad gillar du med folk i din √•lder?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Har du n√•gon g√•ng vuxit ifr√•n en v√§nskap?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad g√∂r du n√§r v√§nner sviker dig?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vilken sorts v√§n √§r du?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad f√•r dig att k√§nna dig inkluderad?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad f√•r dig att k√§nna dig utanf√∂r?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad √∂nskar du att dina v√§nner visste om dig?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "F√∂redrar du en liten grupp eller m√•nga m√§nniskor?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vilket √§r ditt b√§sta minne med v√§nner?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        { q: "Vad √§r det sv√•raste med v√§nskap?", cat: "v√§nskap", catName: "V√§nskap & Relationer" },
        
        // Skola & Prestationer
        { q: "Vilket √§mne gillar du i smyg?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vilket √§mne avskyr du?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad k√§nns meningsl√∂st i skolan?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad k√§nns viktigt i skolan?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad stressar dig med skolan?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad motiverar dig att f√∂rs√∂ka?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad f√•r dig att vilja ge upp?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad √∂nskar du att skolan l√§rde ut b√§ttre?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad √∂nskar du att l√§rare f√∂rstod?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad √§r din st√∂rsta skolrelaterade oro?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad g√∂r skolan sv√•rare √§n det borde vara?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad hj√§lper skolan dig faktiskt med?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Hur hanterar du press?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Hur √§r din relation till betyg?", cat: "skola", catName: "Skola & Prestationer" },
        { q: "Vad skulle g√∂ra skolan mer uth√§rdlig?", cat: "skola", catName: "Skola & Prestationer" },
        
        // V√§rderingar & Moral
        { q: "Vad betyder det f√∂r dig att vara en 'bra m√§nniska'?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilken typ av person respekterar du?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilket beteende tappar du respekten f√∂r?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilka regler tycker du √§r rimliga?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilka regler k√§nns orimliga?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad tycker du √§r viktigast i livet?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad tycker du betyder mycket mindre √§n folk s√§ger?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad tycker du g√∂r n√•gon stark?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad tycker du g√∂r n√•gon svag?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Hur ser mod ut enligt dig?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Hur ser sn√§llhet ut enligt dig?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad betyder lojalitet f√∂r dig?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilka v√§rderingar har du redan?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vilka v√§rderingar h√•ller du fortfarande p√• att lista ut?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        { q: "Vad st√•r du upp f√∂r?", cat: "v√§rderingar", catName: "V√§rderingar & Moral" },
        
        // Framtid & Dr√∂mmar
        { q: "Vad dagdr√∂mmer du om?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad med framtiden g√∂r dig taggad?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad oroar dig med att bli vuxen?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vilket jobb l√•ter coolt, √§ven om det √§r orealistiskt?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vilken sorts liv vill du inte ha?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vilken sorts liv vill du ha?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad hoppas du aldrig f√∂r√§ndras?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad hoppas du f√∂r√§ndras?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad vill du ha mer kontroll √∂ver?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad vill du k√§nna mindre press kring?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Var vill du bo i framtiden?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Hur skulle ett 'bra liv' se ut f√∂r dig?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad √§r n√•got du vill uppleva?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad √§r n√•got du inte vill missa i livet?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        { q: "Vad tror du att du kommer v√§xa in i?", cat: "framtid", catName: "Framtid & Dr√∂mmar" },
        
        // Familj & Hem
        { q: "Vad √§r det b√§sta med din familj?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad √§r det sv√•raste?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad f√•r hemmet att k√§nnas tryggt?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad g√∂r hemmet stressigt?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad uppskattar du hos dina f√∂r√§ldrar?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad √∂nskar du att de f√∂rstod b√§ttre?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vilken familjeregel st√∂r dig mest?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vilken familjetradition gillar du?", cat: "familj", catName: "Familj & Hem" },
        { q: "Hur √∂nskar du att familjesamtal var?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vem k√§nner du dig n√§rmast hemma?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad f√•r dig att k√§nna dig st√∂ttad?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad f√•r dig att k√§nna dig kontrollerad?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad √∂nskar du att du kunde s√§ga hemma?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad f√•r dig att k√§nna dig betrodd?", cat: "familj", catName: "Familj & Hem" },
        { q: "Vad f√•r dig att k√§nna dig missf√∂rst√•dd?", cat: "familj", catName: "Familj & Hem" },
        
        // Sj√§lv & Tillv√§xt
        { q: "Vad √§r n√•got du fortfarande h√•ller p√• att lista ut om dig sj√§lv?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad √§r n√•got du vet s√§kert om dig sj√§lv?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vilken etikett ger folk dig som k√§nns fel?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vilken etikett passar dig b√§st?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad vill du bli k√§nd f√∂r?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad bryr du dig inte om att bli k√§nd f√∂r?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad har du l√§rt dig den h√•rda v√§gen?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vilket misstag l√§rde dig mest?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad jobbar du p√• att bli b√§ttre p√•?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad har du redan blivit b√§ttre p√•?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad hj√§lper dig att utvecklas?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad h√•ller dig tillbaka?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vilket r√•d skulle du ge ditt yngre jag?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vilket r√•d ignorerar du trots att det √§r bra?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        { q: "Vad f√•r dig att k√§nna dig kapabel?", cat: "sj√§lv", catName: "Sj√§lv & Tillv√§xt" },
        
        // √ñppna Fr√•gor
        { q: "Beskriv din perfekta dag.", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad g√∂r du n√§r ingen ser?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad f√•r tiden att flyga f√∂r dig?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad f√•r tiden att g√• l√•ngsamt?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad k√§nner du starkast f√∂r?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad k√§nner du dig f√∂rvirrad kring?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad √∂nskar du att folk fr√•gade dig oftare?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vilken fr√•ga hatar du att f√•?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad √∂nskar du att du kunde fr√•ga vuxna?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad vill du att folk ska sluta anta om dig?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad vill du att folk ska b√∂rja anta om dig?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad f√•r dig att k√§nna hopp?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad f√•r dig att k√§nna dig fast?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad tror du att du √§r b√§ttre p√• √§n du inser?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        { q: "Vad √§r n√•got viktigt med dig som de flesta inte ser?", cat: "√∂ppet", catName: "√ñppna Fr√•gor" },
        
        // √ñppna upp
        { q: "N√§r k√§nner du att jag faktiskt lyssnar p√• dig, och n√§r k√§nner du att jag bara v√§ntar p√• min tur att prata?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad √§r en sak du √∂nskar att jag slutade oroa mig f√∂r n√§r det g√§ller dig?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vilken del av din personlighet tycker du att du har f√•tt fr√•n mig, och √§r du n√∂jd med det eller inte?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad √§r det modigaste du har sett n√•gon g√∂ra i din √•lder (som inte handlar om att vara fysiskt stark)?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Om du kunde ge mig ett 'betyg' som f√∂r√§lder det h√§r √•ret ‚Äì var har jag st√∂rst utvecklingspotential?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Finns det n√•got du g√•r och b√§r p√• som du tror skulle g√∂ra mig besviken, men som du egentligen bara vill f√• ur dig?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad ser du mest fram emot med att flytta hemifr√•n, och vad skr√§mmer dig mest med det?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "N√§r k√§nner du att du m√•ste b√§ra en 'mask' f√∂r att passa in, och n√§r kan du faktiskt vara dig sj√§lv till 100 %?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Finns det n√•got jag har gjort det senaste √•ret som har f√•tt dig att k√§nna dig liten eller missf√∂rst√•dd, √§ven om det inte var meningen?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad √§r det viktigaste en f√∂r√§lder kan g√∂ra f√∂r att hemmet ska k√§nnas som en 'frizon' och inte en plats d√§r man k√§nner sig granskad?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "N√§r k√§nner du dig som mest ensam, √§ven om vi sitter i samma rum eller om du √§r omgiven av kompisar?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad √§r n√•got du √∂nskar att jag visste om din v√§rld (kompisar, press, intressen) ‚Äì utan att jag f√∂r den skull b√∂rjar l√§gga mig i?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Om vi bytte roller f√∂r en dag, vad √§r det f√∂rsta du skulle √§ndra p√• i hur jag pratar med eller bem√∂ter dig?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Vad √§r det st√∂rsta missf√∂rst√•ndet vuxna har om hur det faktiskt √§r att v√§xa upp och vara 15 √•r just nu?", cat: "√∂ppna-upp", catName: "√ñppna upp" },
        { q: "Finns det n√•gon fr√•ga du √∂nskar att jag st√§llde oftare, eller n√•gon fr√•ga du verkligen √∂nskar att jag aldrig st√§llde igen?", cat: "√∂ppna-upp", catName: "√ñppna upp" }
    ];
    
    // Shuffle questions
    function shuffle(array) {
        const arr = [...array];
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }
    
    let shuffledQuestions = [];
    let currentIndex = 0;
    let answeredCount = 0;
    let skippedCount = 0;
    let selectedCategory = 'all';
    
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
        const startScreen = document.getElementById('startScreen');
        const appContainer = document.getElementById('appContainer');
        const cardStack = document.getElementById('cardStack');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const completeScreen = document.getElementById('completeScreen');
        const skipBtn = document.getElementById('skipBtn');
        const answerBtn = document.getElementById('answerBtn');
        const restartBtn = document.getElementById('restartBtn');
        
        function returnToMenu() {
            appContainer.style.display = 'none';
            startScreen.classList.remove('hide');
            completeScreen.classList.remove('show');
        }
        
        // Category selection
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                selectedCategory = card.dataset.category;
                startGame();
            });
        });
        
        function startGame() {
            // Filter questions by category
            let filteredQuestions = selectedCategory === 'all' 
                ? questions 
                : questions.filter(q => q.cat === selectedCategory);
            
            shuffledQuestions = shuffle(filteredQuestions);
            currentIndex = 0;
            answeredCount = 0;
            skippedCount = 0;
            
            // Show app, hide start screen
            startScreen.classList.add('hide');
            appContainer.style.display = 'block';
            
            loadCards();
            
            // Setup back button
            setTimeout(() => {
                const backBtn = document.getElementById('backButton');
                
                if (backBtn) {
                    // Remove any existing listeners
                    const newBackBtn = backBtn.cloneNode(true);
                    backBtn.parentNode.replaceChild(newBackBtn, backBtn);
                    
                    // Add click listener
                    newBackBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        returnToMenu();
                    }, true);
                    
                    // Also try touch events for mobile
                    newBackBtn.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        returnToMenu();
                    }, true);
                }
            }, 200);
        }
        
        function createCard(question, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.style.transform = `translateY(${Math.min(index * 4, 12)}px) scale(${1 - Math.min(index * 0.02, 0.06)})`;
            card.style.zIndex = 100 - index;
            card.style.opacity = index < 3 ? 1 : 0;
            
            card.innerHTML = `
                <span class="card-category cat-${question.cat}">${question.catName}</span>
                <div class="card-question">${question.q}</div>
                <div class="swipe-indicator left">Hoppa √∂ver</div>
                <div class="swipe-indicator right">Besvara</div>
            `;
            
            let startX = 0;
            let currentX = 0;
            let isDragging = false;
            
            function handleStart(e) {
                isDragging = true;
                card.classList.add('dragging');
                startX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
                currentX = startX;
            }
            
            function handleMove(e) {
                if (!isDragging) return;
                e.preventDefault();
                currentX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
                const diff = currentX - startX;
                const rotation = diff / 20;
                card.style.transform = `translateX(${diff}px) rotate(${rotation}deg)`;
                
                const leftIndicator = card.querySelector('.swipe-indicator.left');
                const rightIndicator = card.querySelector('.swipe-indicator.right');
                
                if (diff < -50) {
                    leftIndicator.style.opacity = Math.min(Math.abs(diff) / 150, 1);
                    rightIndicator.style.opacity = 0;
                } else if (diff > 50) {
                    rightIndicator.style.opacity = Math.min(diff / 150, 1);
                    leftIndicator.style.opacity = 0;
                } else {
                    leftIndicator.style.opacity = 0;
                    rightIndicator.style.opacity = 0;
                }
            }
            
            function handleEnd() {
                if (!isDragging) return;
                isDragging = false;
                card.classList.remove('dragging');
                
                const diff = currentX - startX;
                const leftIndicator = card.querySelector('.swipe-indicator.left');
                const rightIndicator = card.querySelector('.swipe-indicator.right');
                leftIndicator.style.opacity = 0;
                rightIndicator.style.opacity = 0;
                
                if (Math.abs(diff) > 100) {
                    if (diff < 0) {
                        skipCard();
                    } else {
                        answerCard();
                    }
                } else {
                    card.style.transform = '';
                }
            }
            
            card.addEventListener('mousedown', handleStart);
            card.addEventListener('mousemove', handleMove);
            card.addEventListener('mouseup', handleEnd);
            card.addEventListener('mouseleave', handleEnd);
            
            card.addEventListener('touchstart', handleStart, { passive: true });
            card.addEventListener('touchmove', handleMove, { passive: false });
            card.addEventListener('touchend', handleEnd);
            
            return card;
        }
        
        function loadCards() {
            cardStack.innerHTML = '';
            for (let i = 0; i < Math.min(3, shuffledQuestions.length - currentIndex); i++) {
                const card = createCard(shuffledQuestions[currentIndex + i], i);
                cardStack.appendChild(card);
            }
            updateProgress();
        }
        
        function updateProgress() {
            const progress = (currentIndex / shuffledQuestions.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `${currentIndex} av ${shuffledQuestions.length}`;
        }
        
        function removeCurrentCard(direction) {
            const cards = cardStack.querySelectorAll('.card');
            if (cards.length === 0) return;
            
            const topCard = cards[0];
            topCard.classList.add(direction === 'left' ? 'exiting-left' : 'exiting-right');
            
            setTimeout(() => {
                topCard.remove();
                currentIndex++;
                
                if (currentIndex < shuffledQuestions.length) {
                    const nextIndex = cardStack.querySelectorAll('.card').length;
                    if (currentIndex + nextIndex < shuffledQuestions.length) {
                        const newCard = createCard(shuffledQuestions[currentIndex + nextIndex], nextIndex);
                        cardStack.appendChild(newCard);
                        
                        setTimeout(() => {
                            newCard.style.opacity = 1;
                        }, 50);
                    }
                    
                    // Update remaining cards
                    const remainingCards = cardStack.querySelectorAll('.card');
                    remainingCards.forEach((card, index) => {
                        card.style.transform = `translateY(${Math.min(index * 4, 12)}px) scale(${1 - Math.min(index * 0.02, 0.06)})`;
                        card.style.zIndex = 100 - index;
                    });
                    
                    updateProgress();
                } else {
                    showComplete();
                }
            }, 300);
        }
        
        function skipCard() {
            skippedCount++;
            removeCurrentCard('left');
        }
        
        function answerCard() {
            answeredCount++;
            removeCurrentCard('right');
        }
        
        function showComplete() {
            document.getElementById('answeredCount').textContent = answeredCount;
            document.getElementById('skippedCount').textContent = skippedCount;
            completeScreen.classList.add('show');
        }
        
        function restart() {
            returnToMenu();
        }
        
        skipBtn.addEventListener('click', skipCard);
        answerBtn.addEventListener('click', answerCard);
        restartBtn.addEventListener('click', restart);
        
        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (completeScreen.classList.contains('show')) return;
            if (appContainer.style.display === 'none') return;
            if (e.key === 'ArrowLeft') skipCard();
            if (e.key === 'ArrowRight') answerCard();
        });
    });
</script>
```

</body>
</html>
